---
title: "Project 1: Loan Data"
author: "Anthony Morast and Daniel Nix"
date: "February 3, 2017"
output: pdf_document
---

```{r setup, include=FALSE}
  knitr::opts_chunk$set(echo = TRUE)

  packages <- c("dplyr", "lattice", "plotrix")
  for(package in packages) {
    require(package)
  }
  source("lc.r")
  lcData <- getGoodData("LoanStats3a.csv")
  lcData <- intRateToNumeric(lcData)
  
  par <- getGoodStanding(lcData)
  subpar <- getDefault(lcData)
  
  lcData <- rbind(par, subpar)
  lcData$loan_status = factor(lcData$loan_status, levels=c("Fully Paid", "Charged Off"))
  lcData$annual_inc <- remove_outliers(lcData$annual_inc)
```

## Overview

The goal of this project is to summarize loan data and search for trends among borrowers. 
A data set publicly available, provided by the Lending Club.
It provides data about loans provided by the peer-to-peer lending company from 2007 to 2011.
It includes information about the the size of loans, lender ratings, home ownership, and many others. 
Data studied in detail is described in the Data Description section.

The dataset is observational data collected for each loan fulfilled using Lending Club. 
The sample population is limited to people using Lending Club and will likely not be representative of the entire population.
This means that conclusions drawn from this dataset should only be trusted when making decisions within Lending Club itself.
Randomization is not applied because the data is a census of the Lending Club loan population.



## Data Description
The following data is analyzed in detail.

+ Loan Amount (Quantitative): The amount of a loan is simply the amount in $USD. The loan amount may have some bearing on how likely a person is to pay back. On one hand, a large loan amount may indicate a long time to pay and more time to default. However, this may not be the case.  

+ Grade (Qualitative): Loan grade is a measure by Lending Club used to assign interest rates to lendees. Grades range from A1 with 5.32% interest to G5 with 30.99% interest and depend on the loan application and credit report.

+ Interest Rate (Quantitative): The APR interest rate for each loan. This may correlate with the loan grade.

+ Loan Status (Qualitative): Status is a measure of how loan payment stands. These range from Fully Paid, meaning the entire balance has been paid back, to Charged Off for which "there is no longer a reasonable expectation of further payments". 

+ Employment Length (Quantitative): The length of time each lendee has held their most recent job. Reliability to work may be an indicator of reliability to pay back a loan.

+ Home Ownership (Qualitative): Describes the current status of home ownership for each lendee. The category includes Own, Mortgage, and Rent. 

+ Annual Income (Quantitative): The amount in $USD each lendee makes as an individual. This category does not inculde any income made by a spouse. Joint income is included as a category but was not analyzed in this report.

+ Delinquent 2 Years (Qualitative): This is a measure of how long a loan has been left delinquent. Varying degrees of delinquincy are included as binary categories, but two years delinquent is used in this report to be equivalent to default.

+ Debt to income ratio (Quantitative): Debt to Income ratio (DTI) is a measure of how much a person owes versus annual income. For example, if a person owes $2,000 and has an annual income of $20,000 has a DTI of 10%.

## Summary
```{r}
  # int_rate, loan_amnt, grade, emp_length, home_ownership, annual_inc, delinq_2yrs, dti
  # Note: only 40 rows have a loan status other than "Fully Paid" or "Charged Off" in this dataset
  mean(par$int_rate) 
  mean(subpar$int_rate)
```
Do a data summary looking at mean, sd, etc

## Data Visualization
```{r}
  library(lattice)
  # !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! pairs(lcData)

  mosaicplot(lcData$loan_status ~ lcData$grade)
  #grade to interest rate 
  plot(lcData$int_rate ~ lcData$grade)
  
  # comparing quantitative variables to loan_status
  # annual income
  bwplot(lcData$loan_status ~ lcData$annual_inc, main="Annual Income to Loan Status", xlab="Annual Income", ylab="Loan Status") 
  
  # int_rate
  bwplot(lcData$loan_status ~ lcData$int_rate)
```
Let's make a pairs plot and maybe something else cool looking.


## Conclusion
Loans are great! Get one today! It's like FREEEEE MONEYYYYY!!!!
